import{o as I,d as P,a as p,r as $,b as i,c as d,e,f as _,w as f,g,t as u,u as a,h as C,i as b,F as x,j as w,k as q,v as L,l as O,m as R,n as T,p as M,q as B,s as U,x as V,y as E,z as F,A as D}from"./vendor.ab0eb239.js";const H=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const l of c.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerpolicy&&(c.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?c.credentials="include":o.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}};H();const j="CART_STORAGE",G=()=>{const t=v(),s=t.$subscribe(()=>{localStorage.setItem(j,JSON.stringify(t.contents))});I(()=>{s()})},J="https://fakestoreapi.com",m=P({id:"products",state:()=>({items:{},ids:[]}),getters:{list(){return this.ids.map(t=>this.items[t])},loaded(){return this.ids.length>0}},actions:{async fetchAll(){if(this.loaded)return;const s=await(await fetch(`${J}/products`)).json();this.ids=s.map(n=>(this.items[n.id]=n,n.id))}}}),v=P({id:"cart",state:()=>{var t;return{contents:(t=JSON.parse(localStorage.getItem(j)))!=null?t:{}}},getters:{count(){return Object.keys(this.contents).reduce((t,s)=>t+this.contents[s].quantity,0)},total(){const t=m();return Object.keys(this.contents).reduce((s,n)=>s+t.items[n].price*this.contents[n].quantity,0)},formattedCart(){const t=m();return t.loaded?Object.keys(this.contents).map(s=>{const n=this.contents[s];return{id:n.productId,image:t.items[n.productId].image,title:t.items[n.productId].title,quantity:n.quantity,cost:n.quantity*t.items[n.productId].price}}):[]}},actions:{add(t){this.contents[t]?this.contents[t].quantity+=1:this.contents[t]={productId:t,quantity:1}},remove(t){!this.contents[t]||(this.contents[t].quantity-=1,this.contents[t].quantity===0&&delete this.contents[t])}}}),z=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),k=t=>z.format(t),K={class:"card bordered"},W={class:"px-8 pt-10"},Q=["src"],X={class:"card-body"},Y={class:"card-title"},Z={class:"justify-end card-actions"},tt=p({props:{product:null},setup(t){const s=v();return(n,r)=>{const o=$("router-link");return i(),d("div",K,[e("figure",W,[e("img",{src:t.product.image,alt:"Card Image",class:"object-contain w-full h-64"},null,8,Q)]),e("div",X,[e("h2",Y,[_(o,{class:"link link-hover",to:`/product/${t.product.id}`},{default:f(()=>[g(u(t.product.title),1)]),_:1},8,["to"])]),e("p",null,u(a(k)(t.product.price)),1),e("div",Z,[e("button",{class:"btn btn-primary",onClick:r[0]||(r[0]=c=>a(s).add(t.product.id))},"Add to Cart")])])])}}});var A=(t,s)=>{const n=t.__vccOpts||t;for(const[r,o]of s)n[r]=o;return n};const et={},st={class:"card bordered animate-pulse"},ot=C('<div class="px-8 pt-10"><div class="h-64 bg-gray-500 rounded"></div></div><div class="card-body"><div class="space-y-2"><div class="h-4 bg-gray-500 rounded"></div><div class="h-4 bg-gray-500 rounded w-5/6"></div><div class="h-4 bg-gray-500 rounded w-1/4"></div></div></div>',2),nt=[ot];function rt(t,s){return i(),d("div",st,nt)}var ct=A(et,[["render",rt]]);const at={class:"p-4 max-w-7xl mx-auto"},it={class:"grid gap-4 grid-cols-1 md:grid-cols-2 lg:grid-cols-3"},dt=p({setup(t){const s=m(),n=b(()=>s.list);return(r,o)=>(i(),d("div",at,[e("div",it,[(i(),d(x,null,w(15,c=>q(_(ct,{key:c},null,512),[[L,!a(s).loaded]])),64)),(i(!0),d(x,null,w(a(n),c=>(i(),O(tt,{key:c.id,product:c},null,8,["product"]))),128))])]))}}),lt={},ut={class:"card md:card-side bordered animate-pulse"},_t=C('<div class="p-8 md:w-64"><div class="bg-gray-500 rounded h-48"></div></div><div class="card-body"><div class="space-y-2"><div class="h-4 bg-gray-500 rounded"></div><div class="h-4 bg-gray-500 rounded"></div><div class="h-4 bg-gray-500 rounded w-5/6"></div><div class="h-4 bg-gray-500 rounded w-1/4"></div></div></div>',2),ht=[_t];function pt(t,s){return i(),d("div",ut,ht)}var N=A(lt,[["render",pt]]);const mt={class:"p-4 max-w-4xl mx-auto"},vt={key:0},ft={key:1,class:"card lg:card-side bordered"},gt={class:"px-10 pt-10"},bt=["src"],yt={class:"card-body"},$t=["textContent"],xt=["textContent"],wt={class:"mt-4 text-lg"},kt={class:"card-actions"},Ct={key:2},St={class:"text-xl text-error"},Pt=p({setup(t){const s=v(),n=m(),r=R(),o=b(()=>n.items[r.params.productId]);return(c,l)=>(i(),d("div",mt,[a(n).loaded?a(o)?(i(),d("div",ft,[e("figure",gt,[e("img",{src:a(o).image,alt:"Card Image",class:"object-contain w-full h-64"},null,8,bt)]),e("div",yt,[e("h2",{class:"card-title",textContent:u(a(o).title)},null,8,$t),e("p",{textContent:u(a(o).description)},null,8,xt),e("p",wt,u(a(k)(a(o).price)),1),e("div",kt,[e("button",{class:"btn btn-primary",onClick:l[0]||(l[0]=h=>a(s).add(a(o).id))},"Add to Cart")])])])):(i(),d("div",Ct,[e("h1",St,"No product found with id "+u(a(r).params.productId),1)])):(i(),d("div",vt,[_(N)]))]))}}),qt={class:"card md:card-side bordered"},Ot={class:"p-8"},jt=["src"],At={class:"card-body"},Nt={class:"card-title"},It={class:"card-actions"},Lt={class:"btn-group"},Rt={class:"btn btn-ghost no-animation"},Tt=p({props:{cartProduct:null},setup(t){const s=v();return(n,r)=>{const o=$("router-link");return i(),d("div",qt,[e("figure",Ot,[e("img",{src:t.cartProduct.image,alt:"Card Image",class:"object-contain w-full h-48"},null,8,jt)]),e("div",At,[e("h2",Nt,[_(o,{class:"link link-hover",to:`/product/${t.cartProduct.id}`},{default:f(()=>[g(u(t.cartProduct.title),1)]),_:1},8,["to"])]),e("p",null,u(a(k)(t.cartProduct.cost)),1),e("div",It,[e("div",Lt,[e("button",{class:"btn btn-primary",onClick:r[0]||(r[0]=c=>a(s).remove(t.cartProduct.id))},"-"),e("button",Rt,u(t.cartProduct.quantity),1),e("button",{class:"btn btn-primary",onClick:r[1]||(r[1]=c=>a(s).add(t.cartProduct.id))},"+")])])])])}}}),Mt={class:"p-4 max-w-4xl mx-auto"},Bt={key:0,class:"space-y-4"},Ut={key:1},Vt=e("h1",{class:"text-xl"},"Cart is empty.",-1),Et=[Vt],Ft={key:2,class:"space-y-4"},Dt={class:"text-right text-2xl md:text-4xl"},Ht=p({setup(t){const s=v(),n=m(),r=b(()=>s.formattedCart);return(o,c)=>(i(),d("div",Mt,[a(n).loaded?a(r).length?(i(),d("div",Ft,[(i(!0),d(x,null,w(a(r),(l,h)=>(i(),O(Tt,{key:h,cartProduct:l},null,8,["cartProduct"]))),128)),e("div",Dt,"Total: "+u(a(k)(a(s).total)),1)])):(i(),d("div",Ut,Et)):(i(),d("div",Bt,[(i(),d(x,null,w(15,l=>_(N,{key:l})),64))]))]))}}),Gt=[{path:"/",component:dt},{path:"/product/:productId",component:Pt},{path:"/cart",component:Ht}],Jt=T({history:M(),routes:Gt}),zt={class:"dropdown dropdown-end"},Kt={class:"form-control"},Wt=["disabled"],Qt={class:"shadow menu dropdown-content bg-base-100 rounded-box w-64 text-base-content overflow-y-scroll",style:{"max-height":"50vh"}},Xt=["onClick","textContent"],Yt=p({setup(t){const s=m(),n=B(),r=U(""),o=b(()=>!r.value||r.value.length<2?[]:s.list.filter(l=>l.title.toLowerCase().includes(r.value.toLowerCase()))),c=l=>{r.value="",n.push(`/product/${l}`)};return(l,h)=>(i(),d("div",zt,[e("div",Kt,[q(e("input",{type:"text",placeholder:"Search...",class:"input input-ghost",disabled:!a(s).loaded,"onUpdate:modelValue":h[0]||(h[0]=y=>r.value=y)},null,8,Wt),[[V,r.value]])]),e("ul",Qt,[(i(!0),d(x,null,w(a(o),y=>(i(),d("li",{key:y.id},[e("a",{href:"#",onClick:E(ge=>c(y.id),["prevent"]),textContent:u(y.title)},null,8,Xt)]))),128))])]))}}),Zt={class:"navbar mb-2 shadow-lg bg-neutral text-neutral-content"},te=C('<div class="flex-none lg:hidden"><label for="drawer-input" class="btn btn-square btn-ghost"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="inline-block w-6 h-6 stroke-current"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg></label></div><div class="flex-none px-2 mx-2"><span class="text-lg font-bold"> Shopping Cart</span></div>',2),ee={class:"flex-1 px-2 mx-2"},se={class:"items-stretch hidden lg:flex"},oe=g(" Home "),ne=g(" Cart "),re=["textContent"],ce={class:"flex-1 lg:flex-none"},ae=p({setup(t){const s=v(),n=b(()=>s.count);return(r,o)=>{const c=$("router-link");return i(),d("div",Zt,[te,e("div",ee,[e("div",se,[_(c,{class:"btn btn-ghost btn-sm rounded-btn",to:"/"},{default:f(()=>[oe]),_:1}),_(c,{class:"btn btn-ghost btn-sm rounded-btn",to:"/cart"},{default:f(()=>[ne,e("div",{class:"badge ml-2 badge-outline",textContent:u(a(n))},null,8,re)]),_:1})])]),e("div",ce,[_(Yt)])])}}}),ie={class:"drawer"},de=e("input",{id:"drawer-input",type:"checkbox",class:"drawer-toggle"},null,-1),le={class:"bg-base-100 text-base-content min-h-screen drawer-content"},ue={class:"drawer-side"},_e=e("label",{for:"drawer-input",class:"drawer-overlay"},null,-1),he={class:"p-4 overflow-y-auto menu w-80 bg-base-100 text-base-content"},pe=g("Home"),me=g(" Cart "),ve=["textContent"],fe=p({setup(t){const s=m(),n=v();s.fetchAll(),G();const r=b(()=>n.count);return(o,c)=>{const l=$("router-view"),h=$("router-link");return i(),d("div",ie,[de,e("div",le,[_(ae),_(l)]),e("div",ue,[_e,e("ul",he,[e("li",null,[_(h,{to:"/"},{default:f(()=>[pe]),_:1})]),e("li",null,[_(h,{to:"/cart"},{default:f(()=>[me,e("div",{class:"badge ml-2 badge-outline",textContent:u(a(r))},null,8,ve)]),_:1})])])])])}}});const S=F(fe);S.use(D());S.use(Jt);S.mount("#app");
